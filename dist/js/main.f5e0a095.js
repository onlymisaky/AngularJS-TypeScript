(self.webpackChunkangularjs_ts=self.webpackChunkangularjs_ts||[]).push([[179],{6926:function(e,t,r){"use strict";var o=r(6695),n=r(7616),i=(r(4404),[{name:"index",url:"",redirectTo:{state:"dashboard"}},{name:"dashboard",url:"/dashboard",component:"appDashboard"},{name:"detail",url:"/detail/:id",component:"appDetail"},{name:"heroes",url:"/heroes",component:"appHeroes"}]);function s(e,t,r){e.hashPrefix(""),i.forEach((function(e){return r.state(e)}))}s.$inject=["$locationProvider","$urlRouterProvider","$stateProvider"];var a=r(4865);function h(e){e.onStart({},(function(e){a.start()})),e.onFinish({},(function(e){a.done()}))}h.$inject=["$transitions"];var c,l,d,u,p,m=o.module("Router",[n.Z,"oc.lazyLoad"]).config(s).run(h).name,f={template:r(515),controller:(c=function(){function e(e){this.heroService=e,this.heroes=[]}return e.prototype.$onInit=function(){this.getHeroes()},e.prototype.getHeroes=function(){var e=this;this.heroService.getHeroes().then((function(t){e.heroes=t.slice(1,5)}))},e}(),c.$inject=["HeroService"],c)},v={template:r(5834),bindings:{hero:"<"},controller:(l=function(){function e(e,t){this.$state=e,this.heroService=t}return e.prototype.$onInit=function(){this.getHero()},e.prototype.getHero=function(){var e=this,t=+this.$state.params.id;this.heroService.getHero(t).then((function(t){e.hero=t}))},e.prototype.goBack=function(){this.$state.go("dashboard")},e.prototype.save=function(){var e=this;this.heroService.updateHero(this.hero).then((function(){return e.goBack()}))},e}(),l.$inject=["$state","HeroService"],l)},g={template:r(2867),controller:(d=function(){function e(e){this.heroService=e,this.heroes=[]}return e.prototype.search=function(e){var t=this;this.heroService.searchHeroes(e).then((function(e){t.heroes=e}))},e}(),d.$inject=["HeroService"],d)},$={template:r(6762),controller:(u=function(){function e(e){this.heroService=e,this.heroes=[],this.heroName=""}return e.prototype.$onInit=function(){this.getHeroes()},e.prototype.getHeroes=function(){var e=this;this.heroService.getHeroes().then((function(t){e.heroes=t}))},e.prototype.add=function(e){var t=this;(e=e.trim())&&this.heroService.addHero({name:e}).then((function(){return t.getHeroes()}))},e.prototype.delete=function(e){this.heroes=this.heroes.filter((function(t){return t!==e})),this.heroService.deleteHero(e).then()},e}(),u.$inject=["HeroService"],u)},b={template:r(8777),controller:(p=function(e){this.messageService=e},p.$inject=["MessageService"],p)},H=[{id:11,name:"Mr. Nice"},{id:12,name:"Narco"},{id:13,name:"Bombasto"},{id:14,name:"Celeritas"},{id:15,name:"Magneta"},{id:16,name:"RubberMan"},{id:17,name:"Dynama"},{id:18,name:"Dr IQ"},{id:19,name:"Magma"},{id:20,name:"Tornado"}],y=function(){function e(e,t,r){this.$http=e,this.$q=t,this.messageService=r,this.heroes=H}return e.prototype.getHeroes=function(){var e=this.$q.defer();return this.log("fetched heroes"),e.resolve(this.heroes),e.promise},e.prototype.getHero=function(e){var t=this.$q.defer();return this.log("fetched hero id="+e),t.resolve(this.heroes.filter((function(t){return t.id===e}))[0]),t.promise},e.prototype.searchHeroes=function(e){var t=this.$q.defer(),r=this.heroes.filter((function(t){return t.name.includes(e)}));return r.length?this.log("found "+r.length+" heroes whose name contains "+e):this.log("no heroes with name that contains "+e),t.resolve(r),t.promise},e.prototype.addHero=function(e){var t=this.$q.defer(),r=this.heroes.map((function(e){return e.id}));0===r.length&&(r=[10]);var o={id:Math.max.apply(Math,r)+1,name:e.name};return this.heroes.push(o),this.log("added new hero"),t.resolve(o),t.promise},e.prototype.deleteHero=function(e){var t=this.$q.defer(),r="number"==typeof e?e:e.id,o=this.heroes.findIndex((function(e){return e.id===r}));return this.log("deleted hero id="+r),t.resolve(this.heroes.splice(o,1)[0]),t.promise},e.prototype.updateHero=function(e){for(var t=this.$q.defer(),r=0,o=this.heroes;r<o.length;r++){var n=o[r];if(n.id===e.id){n.name=e.name,this.log("updated hero id="+e.id);break}}return t.resolve(),t.promise},e.prototype.log=function(e){this.messageService.add("HeroService: "+e)},e.$inject=["$http","$q","MessageService"],e}(),S=function(){function e(){this.messages=[]}return e.prototype.add=function(e){this.messages.push(e)},e.prototype.clear=function(){this.messages=[]},e}(),k=[m],x={components:{appRoot:{template:r(5822),controller:function(){this.title="Tour of Heroes"}},appDashboard:f,appDetail:v,appHeroSearch:g,appHeroes:$,appMessages:b}},M={HeroService:y,MessageService:S},j=o.module("App",k).component(x.components).service(M).name;o.element(document).ready((function(){o.bootstrap(document,[j])}))},5822:function(e){e.exports='<h1>{{$ctrl.title}}</h1> <nav> <a ui-sref="dashboard">Dashboard</a> <a ui-sref="heroes">Heroes</a> </nav> <ui-view></ui-view> <app-messages></app-messages> '},515:function(e){e.exports='<h3>Top Heroes</h3> <div class="grid grid-pad"> <a ng-repeat="hero in $ctrl.heroes" class="col-1-4" ui-sref="detail({id: hero.id})"> <div class="module hero"> <h4>{{hero.name}}</h4> </div> </a> </div> <app-hero-search></app-hero-search> '},5834:function(e){e.exports='<div class="hero-detail" ng-if="$ctrl.hero"> <h2>{{$ctrl.hero.name | uppercase}} Details</h2> <div><span>id: </span>{{$ctrl.hero.id}}</div> <div> <label>name: <input ng-model="$ctrl.hero.name" placeholder="name"/> </label> </div> <button ng-click="$ctrl.goBack()">go back</button> <button ng-click="$ctrl.save()">save</button> </div> '},2867:function(e){e.exports='<div class="search-component"> <h4>Hero Search</h4> <input id="search-box" ng-model="$ctrl.term" ng-model-options="{ debounce: 500 }" ng-change="$ctrl.search($ctrl.term)"/> <ul class="search-result"> <li ng-repeat="hero in $ctrl.heroes track by hero.id"> <a ui-sref="detail({id: hero.id})"> {{hero.name}} </a> </li> </ul> </div> '},6762:function(e){e.exports='<h2>My Heroes</h2> <div class="heroes-add"> <label>Hero name: <input ng-model="$ctrl.heroName"/> </label> <button ng-click="$ctrl.add($ctrl.heroName); $ctrl.heroName=\'\'"> add </button> </div> <ul class="heroes"> <li ng-repeat="hero in $ctrl.heroes track by hero.id"> <a ui-sref="detail({id: hero.id})"> <span class="badge">{{hero.id}}</span> {{hero.name}} </a> <button class="delete" title="delete hero" ng-click="$ctrl.delete(hero)">x</button> </li> </ul> '},8777:function(e){e.exports='<div class="messages" ng-if="$ctrl.messageService.messages.length"> <h2>Messages</h2> <button class="clear" ng-click="$ctrl.messageService.clear()">clear</button> <div ng-repeat="message in $ctrl.messageService.messages track by $index">{{message}}</div> </div> '}},0,[[6926,252,732,998]]]);