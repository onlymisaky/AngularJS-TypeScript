{"version":3,"sources":["webpack:///./src/app/dashboard/dashboard.component.ts","webpack:///./src/app/hero-detail/hero-detail.component.ts","webpack:///./src/app/heroes/heroes.component.ts","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/router/router.module.ts","webpack:///./src/router/router.config.ts","webpack:///./src/router/routes.ts","webpack:///./src/app/dashboard/dashboard.component.html","webpack:///./src/app/hero-detail/hero-detail.component.html","webpack:///./src/app/heroes/heroes.component.html","webpack:///./src/router/router.transitions.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/hero-search/hero-search.component.ts","webpack:///./src/app/hero-search/hero-search.component.html","webpack:///./src/app/messages/messages.component.ts","webpack:///./src/app/messages/messages.component.html","webpack:///./src/app/hero.service.ts","webpack:///./src/app/message.service.ts"],"names":["exports","DashboardComponent","selector","styles","__webpack_require__","template","controller","_a","class_1","heroService","this","heroes","prototype","$onInit","getHeroes","_this","then","slice","$inject","HeroDetailComponent","bindings","hero","$state","getHero","id","params","goBack","go","save","updateHero","HeroesComponent","heroName","add","name","trim","addHero","delete","filter","h","deleteHero","angular","app_module_1","element","document","ready","bootstrap","AppModule","router_module_1","app_component_1","dashboard_component_1","hero_detail_component_1","hero_search_component_1","heroes_component_1","messages_component_1","hero_service_1","message_service_1","imports","RouterModule","declarations","components","appRoot","AppComponent","appDashboard","appHeroDetail","appHeroSearch","HeroSearchComponent","appHeroes","appMessages","MessagesComponent","providers","HeroService","MessageService","module","component","service","uiRouter","router_config_1","router_transitions_1","default","config","routerConfig","run","routeChange","routes_1","$locationProvider","$urlRouterProvider","$stateProvider","hashPrefix","routes","forEach","route","state","url","redirectTo","NProgress","$transitions","onStart","transition","start","onFinish","done","title","search","term","searchHeroes","messageService","$http","$q","heroesUrl","deferred","defer","get","response","log","resolve","data","catch","err","reject","promise","post","put","message","console","messages","push","clear"],"mappings":"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","file":"js/main.1c1ee0d7.js","sourcesContent":["import { IComponentOptions, IController } from 'angular';\nimport { Hero } from '@/app/hero';\nimport { HeroService } from '@/app/hero.service';\n\ninterface Component extends IComponentOptions {\n  selector: string;\n  styles?: any[];\n}\n\nexport const DashboardComponent: Component = {\n  selector: 'appDashboard',\n  styles: [require('./dashboard.component.scss')],\n\n  template: require('./dashboard.component.html'),\n  controller: class implements IController {\n    static $inject: string[] = ['HeroService'];\n\n    heroes: Hero[] = [];\n\n    constructor(private heroService: HeroService) { }\n\n    $onInit() {\n      this.getHeroes();\n    }\n\n    getHeroes(): void {\n      this.heroService.getHeroes()\n        .then(heroes => this.heroes = heroes.slice(1, 5));\n    }\n  }\n}\n","import { IComponentOptions, IController } from 'angular';\nimport { StateService } from '@uirouter/angularjs';\nimport { Hero } from '@/app/hero';\nimport { HeroService } from '@/app/hero.service';\n\n\ninterface Component extends IComponentOptions {\n  selector: string;\n  styles?: any[];\n}\n\nexport const HeroDetailComponent: Component = {\n  selector: 'appHeroDetail',\n  styles: [require('./hero-detail.component.scss')],\n\n  template: require('./hero-detail.component.html'),\n  bindings: {\n    hero: '<',\n  },\n  controller: class implements IController {\n    static $inject: string[] = ['$state', 'HeroService'];\n\n    hero: Hero;\n\n    constructor(\n      private $state: StateService,\n      private heroService: HeroService\n    ) { }\n\n    $onInit() {\n      this.getHero();\n    }\n\n    getHero(): void {\n      const id = +this.$state.params.id;\n      this.heroService.getHero(id)\n        .then(hero => this.hero = hero);\n    }\n\n    goBack(): void {\n      this.$state.go('dashboard');\n    }\n\n    save(): void {\n      this.heroService.updateHero(this.hero)\n        .then(() => this.goBack());\n    }\n  }\n}\n","import { IComponentOptions, IController } from 'angular';\nimport { Hero } from '@/app/hero';\nimport { HeroService } from '@/app/hero.service';\n\n\ninterface Component extends IComponentOptions {\n  selector: string;\n  styles?: any[];\n}\n\nexport const HeroesComponent: Component = {\n  selector: 'appHeroes',\n  styles: [require('./heroes.component.scss')],\n  template: require('./heroes.component.html'),\n  controller: class implements IController {\n\n    static $inject: string[] = ['HeroService'];\n\n    heroes: Hero[];\n    heroName: string = '';\n\n    constructor(private heroService: HeroService) { }\n\n    $onInit() {\n      this.getHeroes();\n    }\n\n    getHeroes(): void {\n      this\n        .heroService.getHeroes()\n        .then(heroes => this.heroes = heroes);\n    }\n\n    add(name: string): void {\n      name = name.trim();\n      if (!name) { return; }\n      this.heroService.addHero({ name } as Hero)\n        .then(() => this.getHeroes());\n    }\n\n    delete(hero: Hero): void {\n      this.heroes = this.heroes.filter(h => h !== hero);\n      this.heroService.deleteHero(hero)\n        .then();\n    }\n  }\n}\n","import * as angular from 'angular';\n\nimport { AppModule } from '@/app/app.module';\n\nangular.element(document).ready(() => {\n  angular.bootstrap(document, [AppModule]);\n});\n","import * as angular from 'angular';\n\nimport { RouterModule } from '@/router/router.module';\n\nimport { AppComponent } from './app.component';\nimport { DashboardComponent } from '@/app/dashboard/dashboard.component';\nimport { HeroDetailComponent } from '@/app/hero-detail/hero-detail.component';\nimport { HeroSearchComponent } from '@/app/hero-search/hero-search.component';\nimport { HeroesComponent } from '@/app/heroes/heroes.component';\nimport { MessagesComponent } from '@/app/messages/messages.component';\n\n\nimport { HeroService } from '@/app/hero.service';\nimport { MessageService } from '@/app/message.service';\n\nconst imports = [RouterModule];\nconst declarations = {\n  components: {\n    appRoot: AppComponent,\n    appDashboard: DashboardComponent,\n    appHeroDetail: HeroDetailComponent,\n    appHeroSearch: HeroSearchComponent,\n    appHeroes: HeroesComponent,\n    appMessages: MessagesComponent\n  }\n};\nconst providers = { HeroService, MessageService };\n\nexport const AppModule = angular\n  .module('App', imports)\n  .component(declarations.components)\n  .service(providers)\n  .name;\n\n","import * as angular from 'angular';\nimport * as uiRouter from '@uirouter/angularjs';\nimport 'oclazyload';\n\nimport { routerConfig } from './router.config';\nimport { routeChange } from './router.transitions';\n\nexport const RouterModule: string = angular\n  .module('Router', [\n    uiRouter.default,\n    'oc.lazyLoad'\n  ])\n  .config(routerConfig)\n  .run(routeChange)\n  .name;\n","import { UrlRouterProvider, StateProvider } from '@uirouter/angularjs';\nimport { ILocationProvider } from 'angular';\n\nimport { routes } from './routes';\n\nrouterConfig.$inject = [\n  '$locationProvider',\n  '$urlRouterProvider',\n  '$stateProvider'];\n\nexport function routerConfig(\n  $locationProvider: ILocationProvider,\n  $urlRouterProvider: UrlRouterProvider,\n  $stateProvider: StateProvider\n) {\n  $locationProvider.hashPrefix('');\n\n  // $urlRouterProvider.otherwise('/index');\n\n  routes.forEach(route => $stateProvider.state(route));\n}\n","import {\n  Ng1StateDeclaration,\n  Transition,\n  StateDeclaration\n} from '@uirouter/angularjs';\n\nimport { DashboardComponent } from '@/app/dashboard/dashboard.component';\nimport { HeroDetailComponent } from '@/app/hero-detail/hero-detail.component';\nimport { HeroesComponent } from '@/app/heroes/heroes.component';\n\n\nexport const routes: Ng1StateDeclaration[] = [\n  { name: 'index', url: '', redirectTo: { state: 'dashboard' } },\n  { name: 'dashboard', url: '/dashboard', component: DashboardComponent.selector },\n  { name: 'detail', url: '/detail/:id', component: HeroDetailComponent.selector },\n  { name: 'heroes', url: '/heroes', component: HeroesComponent.selector },\n];\n","module.exports = \"<h3>Top Heroes</h3> <div class=\\\"grid grid-pad\\\"> <a ng-repeat=\\\"hero in $ctrl.heroes\\\" class=col-1-4 ui-sref=\\\"detail({id: hero.id})\\\"> <div class=\\\"module hero\\\"> <h4>{{hero.name}}</h4> </div> </a> </div> <app-hero-search></app-hero-search> \";","module.exports = \"<div class=hero-detail ng-if=$ctrl.hero> <h2>{{$ctrl.hero.name | uppercase}} Details</h2> <div><span>id: </span>{{$ctrl.hero.id}}</div> <div> <label>name: <input ng-model=$ctrl.hero.name placeholder=name /> </label> </div> <button ng-click=$ctrl.goBack()>go back</button> <button ng-click=$ctrl.save()>save</button> </div> \";","module.exports = \"<h2>My Heroes</h2> <div class=heroes-add> <label>Hero name: <input ng-model=$ctrl.heroName /> </label> <button ng-click=\\\"$ctrl.add($ctrl.heroName); $ctrl.heroName=''\\\"> add </button> </div> <ul class=heroes> <li ng-repeat=\\\"hero in $ctrl.heroes track by hero.id\\\"> <a ui-sref=\\\"detail({id: hero.id})\\\"> <span class=badge>{{hero.id}}</span> {{hero.name}} </a> <button class=delete title=\\\"delete hero\\\" ng-click=$ctrl.delete(hero)>x</button> </li> </ul> \";","import { Transition } from '@uirouter/angularjs';\nimport * as NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\n\nrouteChange.$inject = ['$transitions'];\n\nexport function routeChange($transitions: Transition) {\n  $transitions.onStart({}, transition => {\n    NProgress.start();\n  });\n\n  $transitions.onFinish({}, transition => {\n    NProgress.done();\n  });\n}\n\n// https://ui-router.github.io/guide/ng1/migrate-to-1_0#state-change-events\n// $stateChangeStart $stateChangeCancel $stateChangeSuccess $stateChangeError $stateNotFound\n","import { IComponentOptions, IController } from 'angular';\n\ninterface Component extends IComponentOptions {\n  selector: string;\n  styles?: any[];\n}\n\nexport const AppComponent: Component = {\n  selector: 'appRoot',\n  styles: [require('./app.component.scss')],\n  template: require('./app.component.html'),\n  controller: class implements IController {\n    title: string = 'Tour of Heroes';\n  }\n}\n","module.exports = \"<h1>{{$ctrl.title}}</h1> <nav> <a ui-sref=dashboard>Dashboard</a> <a ui-sref=heroes>Heroes</a> </nav> <ui-view></ui-view> <app-messages></app-messages> \";","import { IComponentOptions, IController } from 'angular';\nimport { Hero } from '@/app/hero';\nimport { HeroService } from '@/app/hero.service';\n\n\ninterface Component extends IComponentOptions {\n  selector: string;\n  styles?: any[];\n}\n\nexport const HeroSearchComponent: Component = {\n  selector: 'appHeroSearch',\n  styles: [require('./hero-search.component.scss')],\n\n  template: require('./hero-search.component.html'),\n  controller: class implements IController {\n    static $inject: string[] = ['HeroService'];\n\n    heroes: Hero[];\n\n    constructor(private heroService: HeroService) { }\n\n    search(term: string): void {\n      this.heroService.searchHeroes(term)\n        .then(heroes => this.heroes = heroes);\n    }\n  }\n}\n","module.exports = \"<div class=search-component> <h4>Hero Search</h4> <input id=search-box ng-model=$ctrl.term ng-model-options=\\\"{ debounce: 500 }\\\" ng-change=$ctrl.search($ctrl.term) /> <ul class=search-result> <li ng-repeat=\\\"hero in $ctrl.heroes track by hero.id\\\"> <a ui-sref=\\\"detail({id: hero.id})\\\"> {{hero.name}} </a> </li> </ul> </div> \";","import { IComponentOptions, IController } from 'angular';\nimport { MessageService } from '@/app/message.service';\n\ninterface Component extends IComponentOptions {\n  selector: string;\n  styles?: any[];\n}\n\nexport const MessagesComponent: Component = {\n  selector: 'appMessages',\n  styles: [require('./messages.component.scss')],\n  \n  template: require('./messages.component.html'),\n  controller: class implements IController {\n    static $inject: string[] = ['MessageService'];\n    constructor(private messageService: MessageService) { }\n  }\n}\n","module.exports = \"<div class=messages ng-if=$ctrl.messageService.messages.length> <h2>Messages</h2> <button class=clear ng-click=$ctrl.messageService.clear()>clear</button> <div ng-repeat=\\\"message in $ctrl.messageService.messages track by $index\\\">{{message}}</div> </div> \";","import { IPromise, IHttpService, IQService, IDeferred } from 'angular';\n\nimport { Hero } from './hero';\nimport { MessageService } from './message.service';\n\nexport class HeroService {\n\n  static $inject: string[] = ['$http', '$q', 'MessageService'];\n\n  private heroesUrl = 'api/heroes';\n\n  constructor(\n    private $http: IHttpService,\n    private $q: IQService,\n    private messageService: MessageService) { }\n\n  getHeroes(): IPromise<Hero[]> {\n    const deferred = this.$q.defer<Hero[]>();\n    this.$http.get<Hero[]>(this.heroesUrl)\n      .then(response => {\n        this.log('fetched heroes');\n        deferred.resolve(response.data)\n      })\n      .catch(err => {\n        this.log(err);\n        deferred.reject(err);\n      });\n    return deferred.promise;\n  }\n\n  getHero(id: number): IPromise<Hero> {\n    const deferred = this.$q.defer<Hero>();\n    this.$http.get<Hero>(this.heroesUrl)\n      .then(({ data }) => {\n        this.log(`fetched hero id=${id}`);\n        deferred.resolve(data);\n      })\n      .catch(err => {\n        this.log(err);\n        deferred.reject(err);\n      });\n    return deferred.promise;\n  }\n\n  searchHeroes(name: string): IPromise<Hero[]> {\n    const deferred = this.$q.defer<Hero[]>();\n    this.$http.get<Hero[]>(this.heroesUrl, { params: { name } })\n      .then(({ data }) => {\n        this.log(`found heroes matching \"${name}\"`);\n        deferred.resolve(data)\n      })\n      .catch(err => {\n        this.log(err);\n        deferred.reject(err);\n      });\n    return deferred.promise;\n  }\n\n  addHero(hero: Hero): IPromise<Hero> {\n    const deferred = this.$q.defer<Hero>();\n    this.$http.post<Hero>(this.heroesUrl, hero)\n      .then(({ data }) => {\n        this.log(`added hero w/ id=${hero.id}`)\n        deferred.resolve(data)\n      })\n      .catch(err => {\n        this.log(err);\n        deferred.reject(err);\n      });\n    return deferred.promise;\n  }\n\n  deleteHero(hero: Hero | number): IPromise<Hero> {\n    const id = typeof hero === 'number' ? hero : hero.id;\n    const url = `${this.heroesUrl}/${id}`;\n    const deferred = this.$q.defer<Hero>();\n    this.$http.delete<Hero>(url)\n      .then(({ data }) => {\n        this.log(`deleted hero id=${id}`);\n        deferred.resolve(data)\n      })\n      .catch(err => {\n        this.log(err);\n        deferred.reject(err);\n      });\n    return deferred.promise;\n  }\n\n  updateHero(hero: Hero): IPromise<any> {\n    const deferred = this.$q.defer<Hero>();\n    this.$http.put<Hero>(this.heroesUrl, hero)\n      .then(({ data }) => {\n        this.log(`updated hero id=${hero.id}`);\n        deferred.resolve(data)\n      })\n      .catch(err => {\n        this.log(err);\n        deferred.reject(err);\n      });\n    return deferred.promise;\n  }\n\n  private log(message: string) {\n    this.messageService.add(`HeroService: ${message}`);\n    console.log(this.messageService.messages);\n\n  }\n}\n","\nexport class MessageService {\n  messages: string[] = [];\n\n  add(message: string) {\n    this.messages.push(message);\n  }\n\n  clear() {\n    this.messages = [];\n  }\n}\n"],"sourceRoot":""}